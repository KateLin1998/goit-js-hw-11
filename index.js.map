{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCardTemplate = imgInfo => {\n    return `   \n        <li class=\"gallery-card\">\n        <a class=\"gallery-link\" href=\"${imgInfo.largeImageURL}\"><img class=\"gallery-img\" src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" /></a>       \n          <div class=\"gallery-info\">\n              <p class=\"info-item\">Likes: <span class=\"span-info-item\">${imgInfo.likes}</span></p>\n              <p class=\"info-item\">Views: <span class=\"span-info-item\">${imgInfo.views}</span></p>\n              <p class=\"info-item\">Comments: <span class=\"span-info-item\">${imgInfo.comments}</span></p>\n              <p class=\"info-item\">Downloads: <span class=\"span-info-item\">${imgInfo.downloads}</span></p>\n          </div>\n        </li>\n      `;\n  };","export const fetchPhotosByQuery = searchedQuery => {\n    return fetch(\n      `https://pixabay.com/api/?key=48309790-79d41aaa998d6ec4cf76c4434&q=${searchedQuery}&image_type=photo&orientation=horizontal&safesearch=true`\n    ).then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    });\n  };","import { createGalleryCardTemplate } from './js/render-functions';\nimport { fetchPhotosByQuery } from './js/pixabay-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst loaderEl = document.querySelector('.loader');\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\n\nconst showLoader = () => {\n  loaderEl.style.display = 'block';\n};\n\nconst hideLoader = () => {\n  loaderEl.style.display = 'none';\n};\n\nconst onSearchFormSubmit = event => {\n  event.preventDefault();\n\n  const searchedQuery = event.currentTarget.elements.user_query.value.trim();\n\n  if (searchedQuery === '') {\n    iziToast.error({\n      message: 'The field must be filled in!',\n    });\n    return;\n  }\n  showLoader();\n  fetchPhotosByQuery(searchedQuery)\n    .then(data => {\n      hideLoader();\n      if (data.total === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n        });\n        galleryEl.innerHTML = '';\n        searchFormEl.reset();\n        return;\n      }\n      const galleryTemplate = data.hits\n        .map(el => createGalleryCardTemplate(el))\n        .join('');\n      galleryEl.innerHTML = galleryTemplate;\n      lightbox.refresh();\n      searchFormEl.reset();\n    })\n    .catch(err => {\n      console.log(err);\n      hideLoader();\n    });\n};\n\nsearchFormEl.addEventListener('submit', onSearchFormSubmit);\nlet lightbox = new SimpleLightbox('.gallery-link', {\n  captionsData: 'alt',\n  captionDelay: 250,\n});"],"names":["createGalleryCardTemplate","imgInfo","fetchPhotosByQuery","searchedQuery","response","loaderEl","searchFormEl","galleryEl","showLoader","hideLoader","onSearchFormSubmit","event","iziToast","data","galleryTemplate","el","lightbox","err","SimpleLightbox"],"mappings":"6vBAAO,MAAMA,EAA4BC,GAC9B;AAAA;AAAA,wCAE6BA,EAAQ,aAAa,mCAAmCA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA,yEAEjEA,EAAQ,KAAK;AAAA,yEACbA,EAAQ,KAAK;AAAA,4EACVA,EAAQ,QAAQ;AAAA,6EACfA,EAAQ,SAAS;AAAA;AAAA;AAAA,QCRjFC,EAAqBC,GACvB,MACL,qEAAqEA,CAAa,0DACxF,EAAM,KAAKC,GAAY,CACjB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,ECDCC,EAAW,SAAS,cAAc,SAAS,EAC3CC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAEhDC,EAAa,IAAM,CACvBH,EAAS,MAAM,QAAU,OAC3B,EAEMI,EAAa,IAAM,CACvBJ,EAAS,MAAM,QAAU,MAC3B,EAEMK,EAAqBC,GAAS,CAClCA,EAAM,eAAc,EAEpB,MAAMR,EAAgBQ,EAAM,cAAc,SAAS,WAAW,MAAM,OAEpE,GAAIR,IAAkB,GAAI,CACxBS,EAAS,MAAM,CACb,QAAS,8BACf,CAAK,EACD,MACD,CACDJ,IACAN,EAAmBC,CAAa,EAC7B,KAAKU,GAAQ,CAEZ,GADAJ,IACII,EAAK,QAAU,EAAG,CACpBD,EAAS,MAAM,CACb,QACE,0EACZ,CAAS,EACDL,EAAU,UAAY,GACtBD,EAAa,MAAK,EAClB,MACD,CACD,MAAMQ,EAAkBD,EAAK,KAC1B,IAAIE,GAAMf,EAA0Be,CAAE,CAAC,EACvC,KAAK,EAAE,EACVR,EAAU,UAAYO,EACtBE,EAAS,QAAO,EAChBV,EAAa,MAAK,CACxB,CAAK,EACA,MAAMW,GAAO,CACZ,QAAQ,IAAIA,CAAG,EACfR,GACN,CAAK,CACL,EAEAH,EAAa,iBAAiB,SAAUI,CAAkB,EAC1D,IAAIM,EAAW,IAAIE,EAAe,gBAAiB,CACjD,aAAc,MACd,aAAc,GAChB,CAAC"}